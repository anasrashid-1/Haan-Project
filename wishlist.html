<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="./Styles/product.css">

  <link rel="stylesheet" href="./Styles/footer.css">
  <link rel="stylesheet" href="./Styles/navbar.css">
  <link rel="stylesheet" href="./Styles/cart.css">

  <link href="https://unpkg.com/ionicons@4.5.10-0/dist/css/ionicons.min.css" rel="stylesheet" />

  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
  <!-- for alert -->


  <link rel="stylesheet" href="sweetalert2.min.css">
</head>

<body>
  <!-- nav start  -->
  <div id="navv">
    <!-- navbar from components -->

    <div id="slider">
      <figure>
        <div>Free shipping over 35 ₹
        </div>
        <div>Subscribe to our Newsletter</div>
        <div>Get Amazing Discounts!</div>
        <div>Get The Special Deals</div>
      </figure>
    </div>



    <header>
      <div class="account">


        <a href="signin.html"> <span class="material-symbols-outlined"> person </span></a>

      </div>

      <div class="logo">
        <h1><a href="index.html" class="header_logo">HAAN</a> </h1>
        <span class="material-symbols-outlined" style="color: teal; font-size: 2.2rem;">
          temp_preferences_eco
        </span>
      </div>
      <nav class="nav" id="nav-menu">
        <ion-icon name="close" class="header_close" id="close-menu"></ion-icon>

        <ul class="nav_list">
          <li class="nav_item"><a href="product.html" class="nav_link">Shop</a></li>
          <li class="nav_item"><a href="#" class="nav_link">Collection</a></li>
          <li class="nav_item"><a href="about.html" class="nav_link">About Us</a></li>
          <li class="nav_item">
            <a href="" class="nav_link">Sobremesa Talks</a>
          </li>
          <li class="nav_item">
            <a href="" class="nav_link">Refill Station</a>
          </li>

          <h1 class="nav_item">
            <a href="" class="nav_link"><ion-icon name="search"></ion-icon></a>
          </h1>
          <h1 class="nav_item heart">
            <a href="wishlist.html" class="nav_link"><ion-icon name="heart"></ion-icon></a>
          </h1>
          <h1 class="nav_item">
            <a class="nav_link"><ion-icon name="cart" onclick="showhaanCart()"></ion-icon></a>
          </h1>
        </ul>
      </nav>


      <ion-icon name="menu" class="header_toggle" id="toggle-menu"></ion-icon>
    </header>
  </div>
  <!-- nav end  -->
  <br>





  <!-- wishlist start  -->

  <div>
    <hr>
    <div id="ans-main-product-container">

    </div>
    <hr>
  </div>

  <!-- wishlist end   -->



  <br>

  <!-- footer  -->

  <footer class="footer">
    <!-- footer from components -->
  </footer>


  <!-- footer  -->









  <!-- cart start -->


  <div class="haanCart haanoverlay"></div>
  <div class="haanCart haantcartdiv" id="haantcartdiv">
    <!-- cart from components -->
    <div class="haancartinnerdiv">
      <div class="parent">
        <div style="display: flex; justify-content: space-between;">
          <div style="display: flex; ">
            <h3 style="margin: 15px 0px 0px 20px ;font-size: 20px; color: #ffffff;">Your Cart<span id="per"
                style="color: white;"></span></h3>
          </div>
          <div>
            <div style="padding: 18px 10px;">
              <a href="#" style="color: #1a2024; font-size: 14px; text-decoration: none; font-weight: bold;"></a>
            </div>
          </div>
          <div class="closed-cart" style="margin-top: 3%;">
            <ion-icon name="close" style="font-size: 40px; color: white;" onclick="window.location.reload()"></ion-icon>
          </div>
        </div>

      </div>

      <div id="child">
        <svg style="margin-top: 45%;" xmlns:xlink="http://www.w3.org/1999/xlink" class="mb-3"
          xmlns="http://www.w3.org/2000/svg" width="170.552" height="136.308" viewBox="0 0 170.552 136.308">
          <g id="Group_336574" data-name="Group 336574" transform="translate(17193 11237.99)">
            <path id="Path_343371" data-name="Path 343371"
              d="M871.2,2847.773a58.712,58.712,0,1,0-58.6-58.712A58.622,58.622,0,0,0,871.2,2847.773Z"
              transform="translate(-17982.947 -13949.455)" fill="#D0D9DE"></path>
            <path id="Path_343372" data-name="Path 343372"
              d="M911.339,2749.127a4.739,4.739,0,1,0-4.739-4.739A4.742,4.742,0,0,0,911.339,2749.127Z"
              transform="translate(-17968.309 -13948.007)" fill="#D0D9DE"></path>
            <path id="Path_343373" data-name="Path 343373"
              d="M917.136,2732.722a3.236,3.236,0,1,0-3.236-3.236A3.241,3.241,0,0,0,917.136,2732.722Z"
              transform="translate(-17967.172 -13950.094)" fill="#D0D9DE"></path>
            <path id="Path_343374" data-name="Path 343374"
              d="M815.736,2748.622a3.236,3.236,0,1,0-3.236-3.236A3.241,3.241,0,0,0,815.736,2748.622Z"
              transform="translate(-17982.963 -13947.617)" fill="#D0D9DE"></path>
            <path id="Path_343375" data-name="Path 343375"
              d="M799.01,2803.37a6.01,6.01,0,1,0-6.01-6.01A6.011,6.011,0,0,0,799.01,2803.37Z"
              transform="translate(-17986 -13939.955)" fill="#D0D9DE"></path>
            <path id="Path_343376" data-name="Path 343376"
              d="M942.777,2765.972h-5.734v-5.732h-4.915v5.732h-5.734v5.074h5.734v5.732h4.915v-5.732h5.734Z"
              transform="translate(-17965.225 -13944.8)" fill="#B2B9BF"></path>
            <path id="Path_343377" data-name="Path 343377"
              d="M860.355,2718.91h-4.9v-4.9h-4.2v4.9h-4.9v4.346h4.9v4.9h4.2v-4.9h4.9Z"
              transform="translate(-17977.691 -13952)" fill="#B2B9BF"></path>
            <path id="Path_343378" data-name="Path 343378"
              d="M810.165,2761.124h-4.187v-4.184h-3.59v4.184H798.2v3.71h4.188v4.184h3.59v-4.184h4.187Z"
              transform="translate(-17985.189 -13945.314)" fill="#B2B9BF"></path>
            <g id="Group_336552" data-name="Group 336552" transform="translate(-17159.609 -11206.963)">
              <path id="Path_272" data-name="Path 272"
                d="M910.967,2776.1l-11.572-28.258a11.213,11.213,0,0,0-12.74-6.726l-29.875,6.46a9.066,9.066,0,0,0-5.921,4.484l-28.439,54.181a4.642,4.642,0,0,0,1.974,6.288l51.5,27.09a4.631,4.631,0,0,0,6.28-1.976l28.439-54.181A8.475,8.475,0,0,0,910.967,2776.1Zm-28.618-11.4a7.505,7.505,0,1,1,10.138-3.132A7.443,7.443,0,0,1,882.349,2764.7Z"
                transform="translate(-821.891 -2740.856)" fill="#FFFFFF"></path>
            </g>
            <path id="Path_343379" data-name="Path 343379"
              d="M878.3,2761.03c23.415-12.112,32.655-30.153,20.454-37.955s-24.222,0-27.273,22.7"
              transform="translate(-17973.777 -13951.045)" fill="none" stroke="#9CA4B5" stroke-linecap="round"
              stroke-linejoin="round" stroke-miterlimit="10" stroke-width="5px"></path>
            <path id="Path_343380" data-name="Path 343380"
              d="M872.335,2790.187a3.362,3.362,0,1,0-1.313-4.565A3.256,3.256,0,0,0,872.335,2790.187Z"
              transform="translate(-17973.92 -13941.115)" fill="#B2B9BF"></path>
            <path id="Path_343381" data-name="Path 343381"
              d="M865.964,2794.1l-1.47-.809a5.927,5.927,0,0,0-5.813-6.322,5.493,5.493,0,0,0-3.691,1.063l-1.47-.821a7.518,7.518,0,0,1,12.445,6.888Z"
              transform="translate(-17976.574 -13940.891)" fill="#B2B9BF"></path>
            <path id="Path_343382" data-name="Path 343382"
              d="M852.746,2779.346a3.362,3.362,0,1,0-1.314-4.565A3.42,3.42,0,0,0,852.746,2779.346Z"
              transform="translate(-17976.959 -13942.803)" fill="#B2B9BF"></path>
          </g>
        </svg>
        <div style="color:  #ffffff; font-weight: bold; font-size: 20px; margin-top: 3%;">Your cart is empty</div>

        <div>
          <button id="startShoping" onclick="showhaanCart()"
            style="cursor: pointer; padding: 10px 20px ; border-radius: 30px; border: 1px solid #1a2024;  margin-top: 10%; background-color:teal; color: white; font-size: 16px; font-weight: bold;">Start
            Shopping</button>
        </div>
      </div>


      <!----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -->

      <img id="pngImage" style="margin-top: 10px;" src="HAAN-img/gst.png" alt="">
      <div id="bagItems"></div>

      <div id="grandTotalParent">
        <img src="HAAN-img/cards.pn" alt="">
        <hr>
        <div id="gandTotal">
          <div>
            <div style="color: black; font-weight: bold; font-size: 20px;">₹<span id="grandTotalPrice">0</span> </div>
            <div style="color:black; font-size: 12px;"> Total amount <i class="fa fa-info-circle"></i></div>
          </div>

          <div>
            <a href="payment.html" style="text-decoration: none; color: white; ">
              <button style="cursor: pointer;width: 210px;border-radius: 20px; padding-left: 43px; height: 50px; border: 1px solid white; background-color: teal; font-size: 16px; font-weight: bold; display: flex;
              align-items: center"> Confirm Order <div style="padding: 0 0 0 50px;display: inline-block;"></a>
          </div>
        </div>
      </div>
    </div>







  </div>

  <!-- cart end -->



  <script type="module">
    // import navbar from "./components/navbar.js";
    import footer from './components/footer.js';
    // import haanCart from "./components/cart.js";


    // document.querySelector("#navv").innerHTML = navbar();
    document.querySelector(".footer").innerHTML = footer();
    // document.querySelector("#haantcartdiv").innerHTML = haanCart();
  </script>

  <script src="./components/toggleCart.js"></script>



</body>

</html>
<script>

  let wishListProducts = JSON.parse(localStorage.getItem("cart-wish-db"))
  console.log(wishListProducts)
  document.getElementById("ans-main-product-container").innerHTML = `
            <div id="loading-img-cont">
                <img src="HAAN-img/NoWishlist.png" alt="">
            </div>`;


  const displayData = (data) => {

    let pMainContainer = document.getElementById("ans-main-product-container");
    pMainContainer.innerHTML = null;


    let productsList = document.createElement("div");
    productsList.setAttribute("class", "ans-product-list");


    if (data !== null ) {
      data.forEach((element, index) => {
        let productCard = document.createElement("div");
        productCard.setAttribute("class", "ans-product-card");
        let productImg = document.createElement("div");
        productImg.setAttribute("class", "prodct-img-cont");
        let img = document.createElement("img");

        let productBody = document.createElement("div");
        productBody.setAttribute("class", "prodct-body");
        let h3 = document.createElement("h3");
        h3.setAttribute("class", "product-name");
        let dp = document.createElement("p");
        let op = document.createElement("p");

        let wish_cart_cont = document.createElement("div")
        wish_cart_cont.setAttribute("class", "wish_cart_cont")
        // wish_cart_cont.innerHTML = `<ion-icon id="ion-icon" name="heart-outline"></ion-icon>`
        let ion_icon = document.createElement("ion-icon")
        ion_icon.setAttribute("name", "trash-outline")
        ion_icon.setAttribute("id", "ion-icon")
        ion_icon.style.marginBottom = "-12px"
        let cardBtn = document.createElement("button");
        cardBtn.setAttribute("class", "ans-btn");

        cardBtn.textContent = "Add to Cart";

        img.src = element.img;
        h3.textContent = element.name;
        dp.textContent = "₹" + element.discounted_price;
        op.textContent = "₹" + element.price;
        op.setAttribute("id", "p-or-price");
        productImg.append(img);
        wish_cart_cont.append(ion_icon, cardBtn)
        productBody.append(h3, dp, op, wish_cart_cont);
        productCard.append(productImg, productBody);
        productsList.append(productCard);

        h3.style.cursor = "pointer";
        h3.addEventListener("click", function () {
          localStorage.setItem("product-det", JSON.stringify(element));
          window.location.href = "product-description.html";

          let filteredSimilarProducts = fetchedData.filter((el) => {
            return el.category === element.category && el.pack === element.pack;
          });
          localStorage.setItem(
            "similar-products-db",
            JSON.stringify(filteredSimilarProducts)
          );
        });

        img.style.cursor = "pointer";
        img.addEventListener("click", function () {
          localStorage.setItem("product-det", JSON.stringify(element));
          window.location.href = "product-description.html";

          let filteredSimilarProducts = fetchedData.filter((el) => {
            return el.category === element.category && el.pack === element.pack;
          });
          localStorage.setItem(
            "similar-products-db",
            JSON.stringify(filteredSimilarProducts)
          );

        });

        ion_icon.addEventListener("click", function () {
          event.target.parentNode.parentNode.parentNode.remove();
          console.log(wishListProducts)
          wishListProducts.splice(index, 1)
          localStorage.setItem("cart-wish-db", JSON.stringify(wishListProducts));
          console.log(wishListProducts)
        })


        cardBtn.addEventListener("click", function () {
          let isProductAlreadyPresent = false;
          if (lsArr.length > 0) {
            lsArr.forEach((item) => {
              if (item.id === element.id) {
                isProductAlreadyPresent = true;
                return;
              }
            });
          }
          if (isProductAlreadyPresent) {
            // alert("Product is already present in the cart.");
            Swal.fire({
              title: 'Product is already present in the cart.',
              confirmButtonColor: 'black',
              showClass: {
                popup: 'animate_animated animate_fadeInDown'
              },
              hideClass: {
                popup: 'animate_animated animate_fadeOutUp'
              }
            })
          } else {
            lsArr.push(element);
            localStorage.setItem("cartItems", JSON.stringify(lsArr));
            // alert("Product added to cart successfully.");
            Swal.fire({
              title: 'Product added to cart successfully..',
              confirmButtonColor: 'black',
              showClass: {
                popup: 'animate_animated animate_fadeInDown'
              },
              hideClass: {
                popup: 'animate_animated animate_fadeOutUp'
              }
            })
          }
        });
        cardBtn.style.cursor = "pointer";
      });
      pMainContainer.append(productsList);
    } else {
      console.log("empty");
      pMainContainer.innerHTML = `<div style="display: flex; justify-content: center; width: 100%;">
<img src="HAAN-img/Wishlist.png" alt="Empty!">
</div>
`;
    }
  };




  setTimeout(() => {
    displayData(wishListProducts);
  }, 1000);
  let lsArr = JSON.parse(localStorage.getItem("cartItems")) || [];




</script>



<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script src="sweetalert2.all.min.js"></script>

<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>

<script src="https://kit.fontawesome.com/18520a5243.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script src="./components/toggleNavbar.js"></script>